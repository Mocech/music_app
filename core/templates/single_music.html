{% extends 'base.html' %}
{% load static %}


{% block extra_CSS %}

 <link rel="stylesheet" href="{% static 'css/single_music.css' %}">
{% endblock %}


{% block content %}


    <main class="music-page">
            <!-- Hero Section -->
            <section class="music-hero">
                <div class="hero-content">
                    <div class="artwork-section">
                        <div class="artwork-container">
                            <!-- Animated Music Visualizer -->
                            <div class="music-visualizer">
                                <!-- Background Particles -->
                                <div class="particles">
                                    <div class="particle"></div>
                                    <div class="particle"></div>
                                    <div class="particle"></div>
                                    <div class="particle"></div>
                                    <div class="particle"></div>
                                    <div class="particle"></div>
                                    <div class="particle"></div>
                                    <div class="particle"></div>
                                </div>

                                <!-- Sound Waves -->
                                <div class="sound-waves">
                                    <div class="wave wave-1"></div>
                                    <div class="wave wave-2"></div>
                                    <div class="wave wave-3"></div>
                                    <div class="wave wave-4"></div>
                                </div>

                                <!-- Audio Bars Visualizer -->
                                <div class="audio-bars">
                                    <div class="bar" style="--delay: 0s; --height: 60%"></div>
                                    <div class="bar" style="--delay: 0.1s; --height: 80%"></div>
                                    <div class="bar" style="--delay: 0.2s; --height: 40%"></div>
                                    <div class="bar" style="--delay: 0.3s; --height: 90%"></div>
                                    <div class="bar" style="--delay: 0.4s; --height: 70%"></div>
                                    <div class="bar" style="--delay: 0.5s; --height: 50%"></div>
                                    <div class="bar" style="--delay: 0.6s; --height: 85%"></div>
                                    <div class="bar" style="--delay: 0.7s; --height: 65%"></div>
                                    <div class="bar" style="--delay: 0.8s; --height: 75%"></div>
                                    <div class="bar" style="--delay: 0.9s; --height: 55%"></div>
                                    <div class="bar" style="--delay: 1s; --height: 95%"></div>
                                    <div class="bar" style="--delay: 1.1s; --height: 45%"></div>
                                    <div class="bar" style="--delay: 1.2s; --height: 80%"></div>
                                    <div class="bar" style="--delay: 1.3s; --height: 60%"></div>
                                    <div class="bar" style="--delay: 1.4s; --height: 70%"></div>
                                </div>

                                <!-- Floating Musical Notes -->
                                <div class="musical-notes">
                                    <div class="note note-1">♪</div>
                                    <div class="note note-2">♫</div>
                                    <div class="note note-3">♪</div>
                                    <div class="note note-4">♬</div>
                                    <div class="note note-5">♪</div>
                                    <div class="note note-6">♫</div>
                                </div>

                                <!-- Central Pulse -->
                                <div class="central-pulse">
                                    <div class="pulse-ring pulse-ring-1"></div>
                                    <div class="pulse-ring pulse-ring-2"></div>
                                    <div class="pulse-ring pulse-ring-3"></div>
                                    <div class="pulse-core">
                                        <i class="fas fa-music"></i>
                                    </div>
                                </div>

                                <!-- Neon Grid -->
                                <div class="neon-grid">
                                    <div class="grid-line grid-line-1"></div>
                                    <div class="grid-line grid-line-2"></div>
                                    <div class="grid-line grid-line-3"></div>
                                    <div class="grid-line grid-line-4"></div>
                                </div>
                            </div>

                            <div class="artwork-overlay">
                                <button class="main-play-btn" onclick="toggleMainPlay()" data-music-id="1">
                                    <i class="fas fa-play"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="track-info">
                        <div class="track-meta">
                            <span class="genre-tag" data-genre="electronic">{{form.genre}}</span>
                            <span class="upload-date" data-uploaded="2024-01-15T10:30:00Z">
                                <i class="fas fa-calendar"></i>
                            {{form.up_loaded_at | date:'M d, Y'}}
                            </span>
                        </div>

                        <h1 class="track-title" data-title="Midnight Dreams">{{form.music_title}}</h1>
                        
                        <h2 class="artist-name" data-artist="Alex Rivera">
                            <i class="fas fa-microphone"></i>
                            {{form.artist_name}}
                        </h2>
                        
                        {% if form.album_name %}
                        <p class="album-info" data-album="Nocturnal Vibes">
                            <i class="fas fa-compact-disc"></i>
                            From album: <span>{{form.album_name}}</span>
                        </p>
                        {% endif %}

                        <div class="posted-by">
                            <div class="poster-info">
                                <img src="/placeholder.svg?height=44&width=44" alt="User Avatar" class="poster-avatar">
                                <div class="poster-details">
                                    <span class="posted-label">Posted by</span>
                                    <a href="/profile/musiclover123" class="poster-name" data-posted-by="musiclover123">{{form.owner.name}}</a>
                                </div>
                            </div>
                            <div class="verification-badge" data-verified="true">
                                <i class="fas fa-check-circle"></i>
                                <span>Verified</span>
                            </div>
                        </div>

                        <div class="stats-actions">
                            <div class="track-stats">
                                <div class="stat-item">
                                    <span class="stat-value" data-plays="1247">1,247</span>
                                    <span class="stat-label">Plays</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-value" data-likes="89">89</span>
                                    <span class="stat-label">Likes</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-value" data-downloads="156">156</span>
                                    <span class="stat-label">Downloads</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-value" data-duration="00:04:32">{{form.duration}}</span>
                                    <span class="stat-label">Duration</span>
                                </div>
                            </div>

                            <div class="action-buttons">
                                <button class="btn btn-primary" onclick="toggleLike()" data-liked="false">
                                    <i class="fas fa-heart"></i>
                                    <span>Like</span>
                                </button>
                                <a class="btn btn-secondary" href="{{form.music_file.url}}" download>
                                    <i class="fas fa-download"></i>
                                    <span>Download</span>
                                </a>
                                <button class="btn btn-secondary" onclick="addToPlaylist()">
                                    <i class="fas fa-plus"></i>
                                    <span>Playlist</span>
                                </button>
                                <button class="btn btn-secondary" onclick="shareTrack()">
                                    <i class="fas fa-share"></i>
                                    <span>Share</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Audio Player Section -->
            
            <!-- Content Section -->
            <div class="content-wrapper">
                <div class="content-grid">
                    <div class="main-content">
                        <!-- Description -->
                        <div class="content-card">
                            <h3>
                                <i class="fas fa-info-circle"></i>
                                About this track
                            </h3>
                            <p class="description-text" >
                            {{form.music_description}}
                            </p>
                        </div>

                        <!-- Lyrics -->
                        <div class="content-card">
                            <h3>
                                <i class="fas fa-microphone"></i>
                                Lyrics
                            </h3>
                            <div class="lyrics-container" data-has-lyrics="true">
                                <div class="lyrics-content">
                                    {{form.lyrics}}
                                </div>
                                <div class="lyrics-actions">
                                    <button class="btn-text" onclick="toggleLyricsSync()">
                                        <i class="fas fa-sync"></i>
                                        Sync with audio
                                    </button>
                                    <button class="btn-text" onclick="copyLyrics()">
                                        <i class="fas fa-copy"></i>
                                        Copy lyrics
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Comments -->
                        <div class="content-card">
                            <div class="comments-header">
                                <h3>
                                    <i class="fas fa-comments"></i>
                                    Comments <span class="comment-count">(12)</span>
                                </h3>
                            </div>
                            
                            <div class="comment-form">
                                <div class="user-avatar">
                                    <img src="/placeholder.svg?height=44&width=44" alt="Your Avatar">
                                </div>
                                <div class="comment-input-container">
                                    <textarea placeholder="Add a comment..." rows="3"></textarea>
                                    <div class="comment-actions">
                                        <button class="btn btn-primary">Post Comment</button>
                                    </div>
                                </div>
                            </div>

                            <div class="comments-list">
                                <div class="comment-item">
                                    <div class="comment-avatar">
                                        <img src="/placeholder.svg?height=44&width=44" alt="User Avatar">
                                    </div>
                                    <div class="comment-content">
                                        <div class="comment-header">
                                            <span class="comment-author">@beatmaker_pro</span>
                                            <span class="comment-time">2 hours ago</span>
                                        </div>
                                        <p class="comment-text">This track is absolutely incredible! The atmospheric layers are perfectly balanced. 🔥</p>
                                        <div class="comment-actions">
                                            <button class="comment-action">
                                                <i class="fas fa-heart"></i>
                                                <span>5</span>
                                            </button>
                                            <button class="comment-action">
                                                <i class="fas fa-reply"></i>
                                                Reply
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <div class="comment-item">
                                    <div class="comment-avatar">
                                        <img src="/placeholder.svg?height=44&width=44" alt="User Avatar">
                                    </div>
                                    <div class="comment-content">
                                        <div class="comment-header">
                                            <span class="comment-author">@synthwave_lover</span>
                                            <span class="comment-time">5 hours ago</span>
                                        </div>
                                        <p class="comment-text">Perfect for late night coding sessions. Added to my favorites!</p>
                                        <div class="comment-actions">
                                            <button class="comment-action">
                                                <i class="fas fa-heart"></i>
                                                <span>3</span>
                                            </button>
                                            <button class="comment-action">
                                                <i class="fas fa-reply"></i>
                                                Reply
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="load-more-comments">
                                <button class="btn btn-secondary">Load More Comments</button>
                            </div>
                        </div>
                    </div>

                    <div class="sidebar-content">
                        <!-- Tags -->
                        <div class="content-card">
                            <h3>
                                <i class="fas fa-tags"></i>
                                Tags
                            </h3>
                            <div class="tags-container" data-tags="electronic,ambient,chill,night,atmospheric,synth">
                                <span class="tag">{{form.tags}}</span>
                                
                            </div>
                        </div>

                        <!-- Related Tracks -->
                        <div class="content-card">
                            <h3>
                                <i class="fas fa-music"></i>
                                More from {{form.owner.name}}
                            </h3>
                             <div class="related-tracks">
                        {% for track in related_songs %}
                            <div class="related-track">
                                <div class="track-cover">
                                    <img src="{% static 'images/music_green.jpeg' %}" alt="Track Cover">
                                    <a href="{% url 'core:song' track.pk %}" class="mini-play-btn">
                                        <i class="fas fa-play"></i>
                                    </a>
                                </div>
                                <div class="track-info">
                                    <h4>{{ track.music_title }}</h4>
                                    <p>{{ track.artist_name }}</p>
                                    <span class="track-duration">{{ track.duration }}</span>
                                </div>
                            </div>
                        {% empty %}
                            <p>This user hasn't uploaded more songs yet.</p>
                        {% endfor %}
                    </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Share Modal -->
        <div class="modal" id="share-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Share this track</h3>
                    <button class="modal-close" onclick="closeModal('share-modal')">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="share-link">
                        <label>Direct Link</label>
                        <div class="link-container">
                            <input type="text" value="https://soundshare.com/track/midnight-dreams" readonly>
                            <button onclick="copyLink()">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                    </div>
                    <div class="share-social">
                        <button class="social-btn twitter">
                            <i class="fab fa-twitter"></i>
                            Twitter
                        </button>
                        <button class="social-btn facebook">
                            <i class="fab fa-facebook"></i>
                            Facebook
                        </button>
                        <button class="social-btn whatsapp">
                            <i class="fab fa-whatsapp"></i>
                            WhatsApp
                        </button>
                        <button class="social-btn email">
                            <i class="fas fa-envelope"></i>
                            Email
                        </button>
                    </div>
                </div>
            </div>
        </div>







{% endblock content %}